<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // websocket是HTML5新出的一种规范协议/新技术跟http协议本身没有直接关系
        //  WebSocket 是 HTML5 开始提供的一种在单个 TCP 连接上进行全双工通讯的协议。
        // 传统客服号需要实时获取服务器信息使用轮询或者long poll 需要频繁请求服务器或者保持HTTP长期打开
        var Socket = new WebSocket('ws://wwww.baidu.com');
        // 以上代码中的第一个参数 url,
        // WebSocket协议以ws或wws开头        
        //  指定连接的 URL。第二个参数 protocol 是可选的，指定了可接受的子协议。
        // WebSocket对象主要有2个属性
        /*   readyState 表示连接状态只读 0连接正在建立 1 已经建立连接 2 连接正在关闭 3 已关闭连接/或连接不能打开
             bufferedAmount 只读展示队列中已经被send(),但还未发出的utf-8字符
        */   
        console.log(Socket.readyState)
        /*
            websocket协议的事件 
            open 建立连接时触发
            message 客户端接收服务器数据事触发
            error 通讯发生错误事触发
            close 通讯关闭时触发
        */
        /*
            websocket方法
             send() 向服务器发送数据
             close() 关闭连接
        */
    </script>
</body>

</html>